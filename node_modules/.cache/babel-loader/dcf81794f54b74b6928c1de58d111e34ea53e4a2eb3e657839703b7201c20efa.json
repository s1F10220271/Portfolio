{"ast":null,"code":"import OpenAI from \"openai\";\nconst openai = new OpenAI({\n  apiKey: \"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\",\n  dangerouslyAllowBrowser: true\n});\nexport const categorizeTask = async (taskText, dynamicGenres) => {\n  const prompt = `以下のタスクのジャンルを「${dynamicGenres}」の中から選んで答えてください:\\n\\nタスク: ${taskText}\\n\\nジャンル:`;\n  try {\n    var _response$choices$, _response$choices$$me;\n    const response = await openai.chat.completions.create({\n      model: \"gpt-3.5-turbo\",\n      messages: [{\n        role: \"user\",\n        content: prompt\n      }],\n      max_tokens: 10\n    });\n    return ((_response$choices$ = response.choices[0]) === null || _response$choices$ === void 0 ? void 0 : (_response$choices$$me = _response$choices$.message) === null || _response$choices$$me === void 0 ? void 0 : _response$choices$$me.content.trim()) || \"その他\";\n  } catch (error) {\n    console.error(\"GPT API Error:\", error);\n    return \"その他\"; // エラー時は「その他」を返す\n  }\n};","map":{"version":3,"names":["OpenAI","openai","apiKey","dangerouslyAllowBrowser","categorizeTask","taskText","dynamicGenres","prompt","_response$choices$","_response$choices$$me","response","chat","completions","create","model","messages","role","content","max_tokens","choices","message","trim","error","console"],"sources":["/home/iniad/F/Portfolio/src/utils/genreCategorizer.js"],"sourcesContent":["import OpenAI from \"openai\";\n\nconst openai = new OpenAI({\n  apiKey: \"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\",\n  dangerouslyAllowBrowser: true,\n});\n\nexport const categorizeTask = async (taskText, dynamicGenres) => {\n  const prompt = `以下のタスクのジャンルを「${dynamicGenres}」の中から選んで答えてください:\\n\\nタスク: ${taskText}\\n\\nジャンル:`;\n\n  try {\n    const response = await openai.chat.completions.create({\n      model: \"gpt-3.5-turbo\",\n      messages: [{ role: \"user\", content: prompt }],\n      max_tokens: 10,\n    });\n\n    return response.choices[0]?.message?.content.trim() || \"その他\";\n  } catch (error) {\n    console.error(\"GPT API Error:\", error);\n    return \"その他\"; // エラー時は「その他」を返す\n  }\n};\n\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAE3B,MAAMC,MAAM,GAAG,IAAID,MAAM,CAAC;EACxBE,MAAM,EAAE,sKAAsK;EAC9KC,uBAAuB,EAAE;AAC3B,CAAC,CAAC;AAEF,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,aAAa,KAAK;EAC/D,MAAMC,MAAM,GAAG,gBAAgBD,aAAa,4BAA4BD,QAAQ,WAAW;EAE3F,IAAI;IAAA,IAAAG,kBAAA,EAAAC,qBAAA;IACF,MAAMC,QAAQ,GAAG,MAAMT,MAAM,CAACU,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;MACpDC,KAAK,EAAE,eAAe;MACtBC,QAAQ,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEV;MAAO,CAAC,CAAC;MAC7CW,UAAU,EAAE;IACd,CAAC,CAAC;IAEF,OAAO,EAAAV,kBAAA,GAAAE,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC,cAAAX,kBAAA,wBAAAC,qBAAA,GAAnBD,kBAAA,CAAqBY,OAAO,cAAAX,qBAAA,uBAA5BA,qBAAA,CAA8BQ,OAAO,CAACI,IAAI,CAAC,CAAC,KAAI,KAAK;EAC9D,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACtC,OAAO,KAAK,CAAC,CAAC;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}